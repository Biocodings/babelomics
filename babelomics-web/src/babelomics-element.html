<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/core-list/core-list.html">

<link rel="import" href="../bower_components/polymer-fontawesome/polymer-fontawesome.html">
<link rel="import" href="../bower_components/core-field/core-field.html">
<link rel="import" href="../bower_components/sortable-table/sortable-table.html">

<link rel="import" href="../lib/jsorolla/src/lib/components/opencga/jso-header.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/opencga/jso-footer.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/opencga/jso-help-menu.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/opencga/jso-opencga-select-folder.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/opencga/jso-project-browser.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/opencga/jso-project-browser-window.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/opencga/jso-file-browser.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/opencga/jso-job-list.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/opencga/jso-job-launched.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/opencga/jso-job-no-ready.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/opencga/jso-class-edit.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/opencga/jso-class-viewer.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/opencga/jso-popup.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/opencga/jso-bioformat.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/opencga/jso-file-info.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/opencga/jso-redirection.html">

<link rel="import" href="../lib/jsorolla/src/network-viewer/jso-network-viewer.html">

<link rel="import" href="../lib/jsorolla/src/lib/components/forms/jso-network-miner.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/forms/jso-snow.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/forms/jso-fatigo.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/forms/jso-fatiscan.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/forms/jso-affy.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/forms/jso-one-channel-agilent.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/forms/jso-one-channel-genepix.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/forms/jso-two-channels-agilent.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/forms/jso-two-channels-genepix.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/forms/jso-clustering.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/forms/jso-prediction.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/forms/jso-class-comparison.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/forms/jso-correlation.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/forms/jso-survival.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/forms/jso-preprocessing-matrix.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/forms/jso-edit.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/forms/jso-association.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/forms/jso-stratification.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/forms/jso-rnaseq-diffexpr.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/forms/jso-rnaseq-norm.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/forms/jso-oncodrivefm.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/forms/jso-oncodriveclust.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/forms/jso-burden.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/forms/jso-contact.html">


<!--<link rel="import" href="../lib/jsorolla/src/lib/components/results/jso-nm-result.html">-->
<!--<link rel="import" href="../lib/jsorolla/src/lib/components/results/jso-snow-result.html">-->
<link rel="import" href="../lib/jsorolla/src/lib/components/results/jso-job-result.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/results/jso-generic-table.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/results/jso-rnaseq-norm-result.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/results/jso-rnaseq-diffexpr-result.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/results/jso-association-result.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/results/jso-predictors-selection-table.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/results/jso-fatigo-table.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/results/jso-oncodrive-genes-table.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/results/jso-oncodrive-pathways-table.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/results/jso-oncodriveclust-genes-table.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/results/jso-logistic-table.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/results/jso-diffexpr-table.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/results/jso-survival-table.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/results/jso-interactors-table.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/results/jso-interactome-viewer.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/results/jso-go-viewer.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/results/jso-genome-viewer-element.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/results/jso-job-info-widget.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/results/jso-protein-viewer.html">
<link rel="import" href="../lib/jsorolla/src/lib/components/results/jso-pvalue-button.html">


<script src="../lib/jsorolla/src/lib/data-adapter/network/sif-network-data-adapter.js"></script>
<script src="../lib/jsorolla/src/lib/data-adapter/network/attribute-network-data-adapter.js"></script>
<script src="../lib/jsorolla/src/lib/data-source/data-source.js"></script>
<script src="../lib/jsorolla/src/lib/data-source/string-data-source.js"></script>

<!-- Genome --viewer-->
<script src="../lib/jsorolla/src/lib/svg.js"></script>
<script src="../lib/jsorolla/src/lib/utils.js"></script>

<script src="../lib/jsorolla/src/lib/widgets/ux-window.js"></script>

<script src="../lib/jsorolla/src/lib/widgets/feature/info/info-widget.js"></script>
<script src="../lib/jsorolla/src/lib/widgets/feature/info/gene-info-widget.js"></script>
<script src="../lib/jsorolla/src/lib/widgets/feature/info/protein-info-widget.js"></script>
<script src="../lib/jsorolla/src/lib/widgets/feature/info/snp-info-widget.js"></script>
<script src="../lib/jsorolla/src/lib/widgets/feature/info/transcript-info-widget.js"></script>
<script src="../lib/jsorolla/src/lib/widgets/feature/info/vcf-variant-info-widget.js"></script>

<script src="../lib/jsorolla/src/lib/cellbase-manager.js"></script>

<script src="../lib/jsorolla/src/lib/data-adapter/feature/cellbase-adapter.js"></script>
<script src="../lib/jsorolla/src/lib/data-adapter/feature/sequence-adapter.js"></script>
<script src="../lib/jsorolla/src/lib/data-adapter/feature/opencga-adapter.js"></script>
<script src="../lib/jsorolla/src/lib/data-adapter/feature/bam-adapter.js"></script>
<script src="../lib/jsorolla/src/lib/data-adapter/feature/feature-data-adapter.js"></script>
<script src="../lib/jsorolla/src/lib/data-adapter/feature/vcf-data-adapter.js"></script>
<script src="../lib/jsorolla/src/lib/data-adapter/feature/gff2-data-adapter.js"></script>
<script src="../lib/jsorolla/src/lib/data-adapter/feature/gff3-data-adapter.js"></script>
<script src="../lib/jsorolla/src/lib/data-adapter/feature/bed-data-adapter.js"></script>
<script src="../lib/jsorolla/src/lib/data-adapter/feature/das-adapter.js"></script>

<script src="../lib/jsorolla/src/lib/data-source/data-source.js"></script>
<script src="../lib/jsorolla/src/lib/data-source/string-data-source.js"></script>
<script src="../lib/jsorolla/src/lib/data-source/file-data-source.js"></script>

<script src="../lib/jsorolla/src/lib/region.js"></script>
<script src="../lib/jsorolla/src/lib/feature-binary-search-tree.js"></script>
<script src="../lib/jsorolla/src/lib/cache/file-feature-cache.js"></script>
<script src="../lib/jsorolla/src/lib/cache/bam-cache.js"></script>

<script src="../lib/jsorolla/src/lib/cache/memory-store.js"></script>
<script src="../lib/jsorolla/src/lib/cache/indexedDB-store.js"></script>
<script src="../lib/jsorolla/src/lib/cache/feature-chunk-cache.js"></script>

<script src="../lib/jsorolla/src/lib/widgets/feature/file/url-widget.js"></script>
<script src="../lib/jsorolla/src/lib/widgets/feature/file/file-widget.js"></script>
<script src="../lib/jsorolla/src/lib/widgets/feature/file/vcf-file-widget.js"></script>
<script src="../lib/jsorolla/src/lib/widgets/feature/file/gff-file-widget.js"></script>
<script src="../lib/jsorolla/src/lib/widgets/feature/file/bed-file-widget.js"></script>


<script src="../lib/jsorolla/src/genome-viewer/navigation-bar.js"></script>
<script src="../lib/jsorolla/src/genome-viewer/chromosome-panel.js"></script>
<script src="../lib/jsorolla/src/genome-viewer/karyotype-panel.js"></script>
<script src="../lib/jsorolla/src/genome-viewer/tracks/tracklist-panel.js"></script>
<script src="../lib/jsorolla/src/genome-viewer/status-bar.js"></script>


<script src="../lib/jsorolla/src/genome-viewer/tracks/track.js"></script>
<script src="../lib/jsorolla/src/genome-viewer/tracks/feature-track.js"></script>
<script src="../lib/jsorolla/src/genome-viewer/tracks/sequence-track.js"></script>
<script src="../lib/jsorolla/src/genome-viewer/tracks/gene-track.js"></script>
<script src="../lib/jsorolla/src/genome-viewer/tracks/bam-track.js"></script>
<script src="../lib/jsorolla/src/genome-viewer/tracks/alignment-track.js"></script>


<script src="../lib/jsorolla/src/genome-viewer/renderers/renderer.js"></script>
<script src="../lib/jsorolla/src/genome-viewer/renderers/feature-renderer.js"></script>
<script src="../lib/jsorolla/src/genome-viewer/renderers/sequence-renderer.js"></script>
<script src="../lib/jsorolla/src/genome-viewer/renderers/feature-cluster-renderer.js"></script>
<script src="../lib/jsorolla/src/genome-viewer/renderers/histogram-renderer.js"></script>
<script src="../lib/jsorolla/src/genome-viewer/renderers/gene-renderer.js"></script>
<script src="../lib/jsorolla/src/genome-viewer/renderers/bam-renderer.js"></script>
<script src="../lib/jsorolla/src/genome-viewer/renderers/vcf-multisample-renderer.js"></script>
<script src="../lib/jsorolla/src/genome-viewer/renderers/alignment-renderer.js"></script>


<script src="../lib/jsorolla/src/genome-viewer/genome-viewer.js"></script>


<script src="js/ParseMatrix.js"></script>
<script src="js/FormUtils.js"></script>


<link rel="import" href="babelomics-home.html">
<link rel="import" href="babelomics-loading.html">
<link rel="import" href="babelomics-menu.html">

<polymer-element name="babelomics-element">
    <template>
        <style>
            :host {
                display: block;
                position: relative;
                cursor: default;
                font-size: 13px;
                min-width: 1000px;
            }

            .title {

            }

            .content {
                background-color: #435f7a;
                position: relative;
                /*min-height: calc(100vh - 160px);*/
            }

            .content > * {
                min-height: calc(100vh - 160px);
            }

            .a {
                text-decoration: none;
                color: #CCCCCC;
                cursor: pointer;
            }

            .a:visited {
                color: #CCCCCC;
            }

            .a:hover {
                color: white;
                /*text-decoration: underline;*/
            }

            jso-project-browser {
                height: calc(100vh - 160px);
            }
        </style>
        <jso-header id="jsoHeader"
                    isLogged="{{isLogged}}"
                    on-session-change="{{handleSessionChange}}"

                    selectedOption="{{selectedOption}}"
                    userData="{{userData}}"
                    showJobs="{{showJobs}}"
                    options="{{options}}"
                    studies="{{studies}}"
                    selectedStudy="{{selectedStudy}}"
                    allowedTools="{{allowedTools}}"
                    jobItem="{{jobItem}}"
                    helpLink="https://github.com/babelomics/babelomics/wiki"
                    tutorialLink="https://github.com/babelomics/babelomics/wiki/Tutorial"
                    hideHomeLink="true">
            <span class="icon">
                    <img src="images/logoBabelomics_positive_trans.svg" style="height: 54px;margin: 1px 5px 0 0;">
            </span>
            <span class="title">
                    <div>Babelomics <span style="color:#ffad76;">5</span></div>
            </span>
            <span class="description">
            </span>
            <babelomics-menu class="menu" selectedOption="{{selectedOption}}">
            </babelomics-menu>

            <jso-help-menu class="helpmenu" selectedOption="{{selectedOption}}">
                <div class="link">
                    <font-awesome icon="book"></font-awesome>
                    <a class="a" href="https://github.com/babelomics/babelomics/wiki" target="_blank"> &nbsp; Tutorial</a>
                </div>
                <div class="link">
                    <font-awesome icon="pencil-square-o"></font-awesome>
                    <a class="a" href="https://github.com/babelomics/babelomics/wiki/How-to-cite-babelomics" target="_blank"> &nbsp; How to cite</a>
                </div>
                <div class="link">
                    <font-awesome icon="comment"></font-awesome>
                    <span class="a" on-click="{{handleContact}}"> &nbsp; Contact</span>
                </div>
            </jso-help-menu>
        </jso-header>
        <div id="content" class="content">
            <template if="{{ selectedOption == 'home' || selectedOption == 'none' || selectedOption == ''}}">
                <babelomics-home
                        id="babelomicsHome"
                        on-annonymous="{{annonymousLogin}}"
                        isLogged="{{isLogged}}"
                        ></babelomics-home>
            </template>
            <template if="{{selectedOption == 'loading'}}">
                <babelomics-loading></babelomics-loading>
            </template>
            <template if="{{selectedOption == 'contact'}}">
                <jso-contact></jso-contact>
            </template>
            <template if="{{selectedOption=='jobReady'}}">
                <jso-job-result
                        id="jsoJobResult"
                        jobItem="{{jobItem}}"
                        selectedOption="{{selectedOption}}"
                        on-redirection="{{handleRedirection}}"

                        ></jso-job-result>
            </template>
            <template if="{{selectedOption=='jobNoReady'}}">
                <jso-job-no-ready jobItem="{{jobItem}}"></jso-job-no-ready>
            </template>
            <template if="{{selectedOption == 'projects'}}">
                <jso-project-browser userData="{{userData}}" selectedStudy="{{selectedStudy}}" studies="{{studies}}"
                                     selectedProject="{{selectedProject}}"></jso-project-browser>
            </template>
            <template if="{{selectedOption == 'network-miner'}}">
                <jso-network-miner
                        selectedOption="{{selectedOption}}"
                        userData="{{userData}}"
                        selectedStudy="{{selectedStudy}}"
                        studies="{{studies}}"
                        args={{args}}
                        ></jso-network-miner>
            </template>

            <template if="{{selectedOption == 'snow'}}">
                <jso-snow
                        id="jsoSnow"
                        selectedOption="{{selectedOption}}"
                        userData="{{userData}}"
                        selectedStudy="{{selectedStudy}}"
                        studies="{{studies}}"
                        args={{args}}
                        >
                </jso-snow>
            </template>
            <template if="{{selectedOption == 'fatigo'}}">
                <jso-fatigo
                        selectedOption="{{selectedOption}}"
                        userData="{{userData}}"
                        selectedStudy="{{selectedStudy}}"
                        studies="{{studies}}"
                        args={{args}}
                        >

                </jso-fatigo>
            </template>
            <template if="{{selectedOption == 'fatiscan'}}">
                <jso-fatiscan
                        selectedOption="{{selectedOption}}"
                        userData="{{userData}}"
                        selectedStudy="{{selectedStudy}}"
                        studies="{{studies}}"
                        args="{{args}}"
                        >

                </jso-fatiscan>
            </template>
            <template if="{{selectedOption == 'affymetrix'}}">
                <jso-affy
                        selectedOption="{{selectedOption}}"
                        userData="{{userData}}"
                        selectedStudy="{{selectedStudy}}"
                        studies="{{studies}}"
                        >

                </jso-affy>
            </template>
            <template if="{{selectedOption == 'one-channel-agilent'}}">
                <jso-one-channel-agilent
                        selectedOption="{{selectedOption}}"
                        userData="{{userData}}"
                        selectedStudy="{{selectedStudy}}"
                        studies="{{studies}}"
                        >

                </jso-one-channel-agilent>
            </template>
            <template if="{{selectedOption == 'one-channel-genepix'}}">
                <jso-one-channel-genepix
                        selectedOption="{{selectedOption}}"
                        userData="{{userData}}"
                        selectedStudy="{{selectedStudy}}"
                        studies="{{studies}}"
                        >

                </jso-one-channel-genepix>
            </template>
            <template if="{{selectedOption == 'two-channels-agilent'}}">
                <jso-two-channels-agilent
                        selectedOption="{{selectedOption}}"
                        userData="{{userData}}"
                        selectedStudy="{{selectedStudy}}"
                        studies="{{studies}}"
                        >

                </jso-two-channels-agilent>
            </template>
            <template if="{{selectedOption == 'two-channels-genepix'}}">
                <jso-two-channels-genepix
                        selectedOption="{{selectedOption}}"
                        userData="{{userData}}"
                        selectedStudy="{{selectedStudy}}"
                        studies="{{studies}}"
                        >

                </jso-two-channels-genepix>
            </template>
            <template if="{{selectedOption == 'clustering'}}">
                <jso-clustering
                        selectedOption="{{selectedOption}}"
                        userData="{{userData}}"
                        selectedStudy="{{selectedStudy}}"
                        studies="{{studies}}"
                        args="{{args}}"
                        >

                </jso-clustering>
            </template>
            <template if="{{selectedOption == 'class-prediction'}}">
                <jso-prediction
                        selectedOption="{{selectedOption}}"
                        userData="{{userData}}"
                        selectedStudy="{{selectedStudy}}"
                        studies="{{studies}}"
                        args="{{args}}"

                        >

                </jso-prediction>
            </template>
            <template if="{{selectedOption == 'class-comparison'}}">
                <jso-class-comparison
                        selectedOption="{{selectedOption}}"
                        userData="{{userData}}"
                        selectedStudy="{{selectedStudy}}"
                        studies="{{studies}}"
                        args="{{args}}"

                        >

                </jso-class-comparison>
            </template>

            <template if="{{selectedOption == 'correlation'}}">
                <jso-correlation
                        selectedOption="{{selectedOption}}"
                        userData="{{userData}}"
                        selectedStudy="{{selectedStudy}}"
                        studies="{{studies}}"
                        args="{{args}}"

                        >

                </jso-correlation>
            </template>

            <template if="{{selectedOption == 'survival'}}">
                <jso-survival
                        selectedOption="{{selectedOption}}"
                        userData="{{userData}}"
                        selectedStudy="{{selectedStudy}}"
                        studies="{{studies}}"
                        args="{{args}}"

                        >
                </jso-survival>
            </template>
            <template if="{{selectedOption == 'rnaseq-diffexpr'}}">
                <jso-rnaseq-diffexpr
                        selectedOption="{{selectedOption}}"
                        userData="{{userData}}"
                        selectedStudy="{{selectedStudy}}"
                        studies="{{studies}}"
                        >

                </jso-rnaseq-diffexpr>
            </template>
            <template if="{{selectedOption == 'rnaseq-norm'}}">
                <jso-rnaseq-norm
                        selectedOption="{{selectedOption}}"
                        userData="{{userData}}"
                        selectedStudy="{{selectedStudy}}"
                        studies="{{studies}}"
                        >

                </jso-rnaseq-norm>
            </template>

            <template if="{{selectedOption == 'preprocessing'}}">
                <jso-preprocessing-matrix
                        selectedOption="{{selectedOption}}"
                        userData="{{userData}}"
                        selectedStudy="{{selectedStudy}}"
                        studies="{{studies}}"
                        args="{{args}}"
                        >
                </jso-preprocessing-matrix>
            </template>
            <template if="{{selectedOption == 'edit'}}">
                <jso-edit
                        selectedOption="{{selectedOption}}"
                        userData="{{userData}}"
                        selectedStudy="{{selectedStudy}}"
                        studies="{{studies}}">
                </jso-edit>
            </template>

            <template if="{{selectedOption == 'association'}}">
                <jso-association
                        selectedOption="{{selectedOption}}"
                        userData="{{userData}}"
                        selectedStudy="{{selectedStudy}}"
                        studies="{{studies}}"
                        >
                </jso-association>
            </template>

            <template if="{{selectedOption == 'stratification'}}">
                <jso-stratification
                        selectedOption="{{selectedOption}}"
                        userData="{{userData}}"
                        selectedStudy="{{selectedStudy}}"
                        studies="{{studies}}"
                        >
                </jso-stratification>
            </template>
            <template if="{{selectedOption == 'oncodrivefm'}}">
                <jso-oncodrivefm
                        selectedOption="{{selectedOption}}"
                        userData="{{userData}}"
                        selectedStudy="{{selectedStudy}}"
                        studies="{{studies}}"
                        >
                </jso-oncodrivefm>
            </template>
            <template if="{{selectedOption == 'oncodriveclust'}}">
                <jso-oncodriveclust
                        selectedOption="{{selectedOption}}"
                        userData="{{userData}}"
                        selectedStudy="{{selectedStudy}}"
                        studies="{{studies}}"
                        >
                </jso-oncodriveclust>
            </template>
            <template if="{{selectedOption == 'burden'}}">
                <jso-burden
                        selectedOption="{{selectedOption}}"
                        userData="{{userData}}"
                        selectedStudy="{{selectedStudy}}"
                        studies="{{studies}}"
                        >
                </jso-burden>
            </template>
            <!--<jso-job-launched hidden?="{{selectedOption != 'jobLaunched' }}"></jso-job-launched>-->
            <!--&lt;!&ndash;<div id="sidePanel" class="side-panel side-panel-shown">&ndash;&gt;-->
            <!--&lt;!&ndash;&lt;!&ndash;<jso-job-list jobItem="{{jobItem}}" selectedOption="{{selectedOption}}" userData="{{userData}}"&ndash;&gt;&ndash;&gt;-->
            <!--&lt;!&ndash;&lt;!&ndash;hide="{{!showJobs}}" showJobs="{{showJobs}}" selectedStudy="{{selectedStudy}}" ></jso-job-list>&ndash;&gt;&ndash;&gt;-->
            <!--&lt;!&ndash;</div>&ndash;&gt;-->
            <!--<template if="{{ showJobs }}">-->
            <!--<jso-job-list-->
            <!--on-job-item-click="{{handleJobItemClick}}"-->
            <!--userData="{{userData}}"-->
            <!--selectedOption="{{selectedOption}}"-->
            <!--selectedStudy="{{selectedStudy}}"-->
            <!--allowedTools="{{allowedTools}}"-->
            <!--showJobs="{{showJobs}}">-->
            <!--</jso-job-list>-->
            <!--</template>-->


        </div>

        <jso-footer>
            BABELOMICS: created by Computational Genomics Department
            <br>
            Principe Felipe Research Center
            <br>
            2015 <a  href="https://twitter.com/babelomics" target="_blank" class="a"><font-awesome icon="twitter" style="font-size:20px;"></font-awesome></a>
        </jso-footer>
    </template>
    <script>
        Polymer({
            created: function () {
                this.selectedOption = 'home';
                this.showJobs = false;
                this.userData = {};
                this.allowedTools = TOOLS;
//                this.hideJobView = true;

                this.isLogged

                this.selectedProject;
                this.selectedStudy;
                this.studies;

            },
            babelomicsMenuClicked: function(){
                debugger
                this.selectedOption = "";
            },
            handleAppMenu: function (e) {
                this.$.sidePanel.classList.toggle('side-panel-shown');
            },
//            handleJobItemClick: function (e) {
////                this.jobItem = e.detail.jobItem;
//                this.$.jsoJobResult.pvalue = 0.05;
//            },

            userDataChanged: function (oldValue, newValue) {
                var me = this;
                this.selectedProject = this.userData.projects[0];

                OpencgaManager.projects.studies({
                    id: this.selectedProject.id,
                    query: {
                        sid: Cookies("bioinfo_sid")
                    },
                    request: {
                        success: function (response) {
                            if (response.response[0].errorMsg === '' || response.response[0].errorMsg == null) {
                                me.studies = response.response[0].result;
                                me.selectedStudy = me.studies[0];
                            } else {
                                console.log(response.error);
                                console.log(response.response[0].errorMsg);
                            }
                        },
                        error: function () {
                            console.log('Server error, try again later.');
                        }
                    }
                })


            },
            annonymousLogin: function () {
                this.$.jsoHeader.anonymousSign();
            },
            handleRedirection: function (e) {
                this.selectedOption = e.detail.tool;
                this.args = e.detail.args;

            },
            handleHowToCite: function (e) {
                this.selectedOption = "cite";
                this.selectedOption = "";
            },
            handleContact: function (e) {
                this.selectedOption = "contact";
            }
//    userDataChanged: function (oldValue, newValue) {
//
//        var me = this
//        /** These two if initialize selected project and study **/
////            if (!this.selectedProject)
//        this.selectedProject = this.userData.projects[0]
//
//        if (!this.selectedStudy) {
//            var selectedStudyIdx = 0;
//            this.selectedStudy = this.selectedProject.studies[selectedStudyIdx];
//        }
//        /** llamada analysis **/
//        OpencgaManager.studies.analysis({
//            id: this.selectedStudy.id,
//            query: {
//                sid: Cookies('bioinfo_sid')
//            },
//            request: {
//                success: function (response) {
//                    if (response.response[0].errorMsg === '' || response.response[0].errorMsg == null) {
//                        var selectedAnalysis = response.response[0].result[0]
//                        me.selectedStudy.analysis = selectedAnalysis
//                    } else {
//                        me.message = response.response[0].errorMsg;
//                    }
//                },
//                error: function () {
//                    alert('Server error, try again later.');
//                }
//            }
//        });
//
//        /** llamada ficheros **/
//        OpencgaManager.files.search({
//            query: {
//                sid: Cookies("bioinfo_sid"),
//                studyId: me.selectedStudy.id
////                        type: "file"
//            },
//            request: {
//                //method: 'POST',
//                success: function (response) {
//                    if (response.response[0].errorMsg === '' || response.response[0].errorMsg == null) {
//                        var files = response.response[0].result
//                        var filesAux = new Array();
//                        for (var i = 0; i < files.length; i++) {
//                            if (files[i].path.indexOf("J_") >= 0) {
//                                continue;
//                            }
//                            filesAux.push(files[i])
//                        }
//                        me.selectedStudy.files = filesAux
//                    } else {
//                        me.message = response.response[0].errorMsg;
//                    }
//                },
//                error: function () {
//                    me.message = 'Server error, try again later.';
//                }
//            }
//        })
////            }
//
//    },
        });
    </script>
</polymer-element>
